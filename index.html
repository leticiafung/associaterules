<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>关联规则挖掘</title>
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet prefetch">
    <link href="styles/indexstyle_b.css" rel="stylesheet">
</head>
<body>
    <header class="container-fluid">
        <p class="col-md-12">关联规则挖掘</p>
    </header>
    <div class="container-fluid">

        <div class="row">
            <nav class="col-md-2 " >
                <ul class="nav nav-pills nav-stacked navbar-inverse" >
                    <li class="active"><a href="#">首页</a></li>
                    <li><a href="#">关联规则</a></li>
                    <li><a href="#">根因图分析</a></li>
                </ul>
                <div>
                </div>
            </nav>
            <div class="col-md-10 content" >
                <div class="row">
                    <p class="col-md-10 col-md-offset-1 head_title">关联规则挖掘 > 算法参数填写</p>
                    <div class="col-md-10 col-md-offset-1 formlist">
                        <div id="functionbox">
                            <div class="input_title">
                                <h5>基本参数</h5>
                                <hr />
                            </div>
                            <form action="/answer" method="post" id="upload" role="form" class="form-horizontal">
                                <div id="requiredRow">
                                    <div class="form-group">
                                        <label for="doc1" class="control-label col-md-2">告警数据文件:</label>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control" placeholder="D://" id="doc1"  required autofocus name="src_path"/>
                                        </div>
                                        <!--<label for="doc2" class="control-label col-md-2">文件输出路径</label>-->
                                        <!--<div class="col-lg-3">-->
                                            <input type="text" class="form-control" placeholder="文件输出路径" id="doc2" name="res_path" value="./java/jarprj" style="display: none"/>
                                        <!--</div>-->
                                    </div>
                                    <div class="form-group">
                                        <!--<label class="control-label col-md-2" for="d3">临时数据表:</label>-->
                                        <!--<div class="col-lg-3">-->
                                            <input id="d3" type="text" name="table_name" class="form-control" value="alarm_data" style="display: none"/>
                                        <!--</div>-->
                                        <label class="control-label col-md-2 " for="d4">告警文件日期格式:</label>
                                        <div class="col-md-3 ">
                                            <input type="text" id="d4" placeholder="MM/dd/yyy" name="file_data_fmt" class="form-control" required/>
                                        </div>
                                        <!--<label class="control-label col-lg-2" >数据表日期格式:</label>-->
                                        <!--<div class="col-lg-3">-->
                                            <input type="text" id="d5" placeholder="日期格式"  name="table_data_fmt" value="yyyy-MM-dd HH:mm:ss" class="form-control" style="display: none"/>
                                        <!--</div>-->
                                        <label class="control-label col-md-2" for="d6">告警源字段:</label>
                                        <div class="col-md-3 ">
                                            <input type="text" id="d6" placeholder="告警源" name="alarm_src_file" class="form-control" required/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-lg-2" for="d7">告警ID字段:</label>
                                        <div class="col-md-3">
                                            <input type="text" id="d7" placeholder="告警ID" name="alarm_id_file" class="form-control"required/>
                                        </div>
                                        <label  class="control-label col-lg-2" for="d8">告警名称字段:</label>
                                        <div class="col-md-3">
                                            <input type="text" id="d8" placeholder="名称" name="alarm_name_file" class="form-control" required/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-lg-2" for="d9">发生时间(NT)字段:</label>
                                        <div class="col-md-3">
                                            <input type="text" id="d9" placeholder="发生时间" name="alarm_raised_time_file" class="form-control"required/>
                                        </div>
                                        <label class="control-label col-lg-2" for="d10">清除时间(NT)字段:</label>
                                        <div class="col-md-3">
                                            <input type="text" id="d10" placeholder="发生时间" name="alarm_cleared_time_file" class="form-control"required/>
                                        </div>
                                    </div>
                                    <!-- <input type="hidden" name="filepath" value=""> -->
                                </div>

                                <div id="row4">
                                    <div id="row41">
                                        <p> <img  id ="ficon" src="images/unshow1.png" alt="unshow" />  高级选项  </p>
                                    </div>

                                    <div id="row42">
                                        <hr />
                                        <p>算法相关参数</p>
                                        <div class="form-group">
                                            <label class="control-label col-md-2" for="t13">每次读取告警数:</label>
                                            <div class="col-md-2">
                                                <input type="number" id="t13" class="form-control" placeholder="每次读取告警数" name= "block_size" value= 10000 />
                                            </div>
                                            <label class="control-label col-md-1" for="t14">去除闪断告警:</label>
                                            <div class="col-md-2">
                                                <input type="text" id="t14" class="form-control" placeholder="true" name="flash_on" value=true />
                                            </div>
                                            <label class="control-label col-md-1" for="t15">闪断告警时长:</label>
                                            <div class="col-md-2">
                                                <input type="number" id="t15" class="form-control" placeholder="10" name= "flash_threshold" value= 10 />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-md-2" for="t16">闪断告警合并时长门限:</label>
                                            <div class="col-md-2">
                                                <input type="number" id="t16" class="form-control" placeholder="30" name=  "merge_time_threshold" value=30 />
                                            </div>
                                            <label class="control-label col-md-1" for="t17">闪断合并条数:</label>
                                            <div class="col-md-2">
                                                <input type="number" id="t17" class="form-control" placeholder="3" name="merge_count_threshold"  value=3 />
                                            </div>
                                            <label class="control-label col-md-1" for="t18">支持度门限:</label>
                                            <div class="col-md-2">
                                                <input type="number" id="t18" class="form-control" placeholder="10" name="corr_support" value=10 />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-md-2" for="t19">置信度门限:</label>
                                            <div class="col-md-2">
                                                <input type="text" id="t19" class="form-control" placeholder="0.3" name="corr_threshold" value=0.8 />
                                            </div>
                                            <label class="control-label col-md-1" for="t20">时间窗长度:</label>
                                            <div class="col-md-2">
                                                <input type="number" id="t20" class="form-control" placeholder="60" name="win_width"  value=60 />
                                            </div>
                                            <label class="control-label col-md-1" for="t21">时间窗滑动:</label>
                                            <div class="col-md-2">
                                                <input type="number" id="t21" class="form-control" placeholder="20" name="move_len" value=20 />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-md-2" for="t22">支持度门限:</label>
                                            <div class="col-md-2">
                                                <input type="number" id="t22" class="form-control" placeholder="10" name="asso_support" value=10 />
                                            </div>
                                            <label class="control-label col-md-1" for="t23">置信度门限:</label>
                                            <div class="col-md-2">
                                                <input type="text" id="t23" class="form-control" placeholder="0.8" name="conf" value=0.8 />
                                            </div>
                                            <label class="control-label col-md-1" for="t24">挖掘规则长度:</label>
                                            <div class="col-md-2">
                                                <input type="number" id="t24" class="form-control" placeholder="2" name="k"  value=2 />
                                            </div>
                                        </div>
                                        <!-- <有两个support，需要改变！！！correlation中改成corr> -->
                                        <div class="form-group">
                                            <label class="control-label col-md-2" for="t25">算法结果是交或并:</label>
                                            <div class="col-md-3">
                                                <select name="and_or" id="t25" class="form-control">
                                                     <option value="true" >算法取交</option>
                                                    <option value="false" selected>算法取并</option>
                                                </select>
                                            </div>
                                        </div>
                                        <p>数据表相关</p>
                                        <div class="form-group">
                                            <label class="control-label col-md-2" for="t1">临时数据表:</label>
                                            <div class="col-md-3">
                                                <input id="t1" type="text" class="form-control" value="alarm_data" />
                                            </div>
                                            <label class="control-label col-md-2" for="t2" >数据表日期格式:</label>
                                            <div class="col-md-3">
                                                <input type="text" id="t2" placeholder="日期格式" value="yyyy-MM-dd HH:mm:ss" class="form-control" />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-md-2" for="t3">告警源:</label>
                                            <div class="col-md-2">
                                                <input type="text" id="t3" class="form-control" placeholder="告警源字段名" name="alarm_src_table" value="alarm_src"/>
                                            </div>
                                            <label class="control-label col-md-1" for="t4">告警ID:</label>
                                            <div class="col-md-2">
                                                <input type="text" id="t4" class="form-control" placeholder="告警源ID字段名" name="alarm_id_table" value= "AlarmId"/>
                                            </div>
                                            <label class="control-label col-md-1" for="t5">告警名称:</label>
                                            <div class="col-md-2">
                                                <input type="text" id="t5" class="form-control" placeholder="告警名称字段名" name="alarm_name_table" value= "AlarmName"/></label>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-md-2" for="t6">告警发生时间:</label>
                                            <div class="col-md-3">
                                                <input type="text" id="t6" class="form-control" placeholder="告警发生时间字段名" name= "alarm_raised_time_table" value="AlarmRaisedTime"/>
                                            </div>
                                            <label class="control-label col-md-2" for="t7">告警清除时间:</label>
                                            <div class="col-md-3">
                                                <input type="text" id="t7" class="form-control" placeholder="告警清除字段名" name= "alarm_cleared_time_table" value="AlarmClearedTime"/>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-md-2" for="t8">src建立相关:</label>
                                            <div class="col-md-2">
                                                <input type="text"  id="t8" class="form-control" placeholder="数据表src相关" name= "alarm_src_sql_type" value="VARCHAR(30)" />
                                            </div>
                                            <label class="control-label col-md-1" for="t9">id建立相关:</label>
                                            <div class="col-md-2">
                                                <input type="text" id="t9" class="form-control" placeholder="id相关" name= "alarm_id_sql_type" value="VARCHAR(30)" />
                                            </div>
                                            <label class="control-label col-md-1" for="t10">name建立相关:</label>
                                            <div class="col-md-2">
                                                <input type="text" id="t10" class="form-control" placeholder="name相关" name= "alarm_name_sql_type", value="VARCHAR(100)"/>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-md-2" for="t11">发生时间建立相关:</label>
                                            <div class="col-md-3">
                                                <input type="text" id="t11" class="form-control" placeholder="数据表发生时间建立相关" name="alarm_raised_time_sql_type" value="DATETIME" />
                                            </div>
                                            <label class="control-label col-md-2" for="t12">清除时间建立相关:</label>
                                            <div class="col-md-3">
                                                <input type="text" id="t12" class="form-control" placeholder="数据表清除时间建立相关" name="alarm_cleared_time_sql_type"  value="DATETIME" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button type="submit"  class="btn btn-primary col-md-offset-8" id="subbtn">确定</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div id="mask">
        <img src="images/loading2.gif" alt="loading"/>
        <p>please wait...</p>
    </div>
    <script src="scripts/main.js" type="text/javascript"></script>
</body>
</html>